import{S as ne,i as re,s as se,k as T,a as N,e as ee,l as E,m as R,h as y,c as I,n as w,b as D,H as p,J as V,C as te,K as Te,L as be,M as de,B as Ee,N as De,q as L,r as P,O as he,o as Re,P as Se,j as Ve,u as le,t as ae,d as Oe,f as ue,g as Le,v as A,Q as F,x as we,y as Ne,z as Ie,R as M,A as Ue}from"../../chunks/index-ea645a6a.js";function ye(t){let e,u,c,i,f,n=!1,r,h=!0,m,v,l,s;function o(){cancelAnimationFrame(r),i.paused||(r=De(o),n=!0),t[10].call(i)}return{c(){e=T("div"),u=T("div"),c=N(),i=T("audio"),m=N(),v=T("div"),this.h()},l(a){e=E(a,"DIV",{class:!0});var _=R(e);u=E(_,"DIV",{}),R(u).forEach(y),c=I(_),i=E(_,"AUDIO",{src:!0}),R(i).forEach(y),m=I(_),v=E(_,"DIV",{}),R(v).forEach(y),_.forEach(y),this.h()},h(){i.controls=!0,be(i.src,f=URL.createObjectURL(t[6]))||w(i,"src",f),w(e,"class","grid")},m(a,_){D(a,e,_),p(e,u),p(e,c),p(e,i),isNaN(t[0])||(i.playbackRate=t[0]),isNaN(t[2])||(i.volume=t[2]),i.muted=t[3],p(e,m),p(e,v),l||(s=[V(i,"ratechange",t[9]),V(i,"timeupdate",o),V(i,"play",t[11]),V(i,"pause",t[11]),V(i,"volumechange",t[12])],l=!0)},p(a,_){_&64&&!be(i.src,f=URL.createObjectURL(a[6]))&&w(i,"src",f),_&1&&!isNaN(a[0])&&(i.playbackRate=a[0]),!n&&_&32&&!isNaN(a[5])&&(i.currentTime=a[5]),n=!1,_&2&&h!==(h=a[1])&&i[h?"pause":"play"](),_&4&&!isNaN(a[2])&&(i.volume=a[2]),_&8&&(i.muted=a[3])},d(a){a&&y(e),l=!1,de(s)}}}function Pe(t){let e,u,c,i,f,n,r,h,m,v,l=t[6]&&ye(t);return{c(){e=T("div"),u=T("div"),c=N(),i=T("input"),f=N(),n=T("div"),r=N(),l&&l.c(),h=ee(),this.h()},l(s){e=E(s,"DIV",{class:!0});var o=R(e);u=E(o,"DIV",{}),R(u).forEach(y),c=I(o),i=E(o,"INPUT",{type:!0,accept:!0}),f=I(o),n=E(o,"DIV",{}),R(n).forEach(y),o.forEach(y),r=I(s),l&&l.l(s),h=ee(),this.h()},h(){w(i,"type","file"),w(i,"accept",".mp3, .ogg, .wav"),w(e,"class","grid")},m(s,o){D(s,e,o),p(e,u),p(e,c),p(e,i),p(e,f),p(e,n),D(s,r,o),l&&l.m(s,o),D(s,h,o),m||(v=V(i,"change",t[8]),m=!0)},p(s,[o]){s[6]?l?l.p(s,o):(l=ye(s),l.c(),l.m(h.parentNode,h)):l&&(l.d(1),l=null)},i:te,o:te,d(s){s&&y(e),s&&y(r),l&&l.d(s),s&&y(h),m=!1,v()}}}function Ce(t,e,u){let c;const i=Te();let f,n=0,{playbackRate:r=1,currentTime:h=0,paused:m=!0,volume:v=1,muted:l=!1}=e;async function s(g){await Ee(),u(5,n=g),u(1,m=!1)}function o(){f=this.files,u(4,f)}function a(){r=this.playbackRate,u(0,r)}function _(){n=this.currentTime,u(5,n)}function d(){m=this.paused,u(1,m)}function b(){v=this.volume,l=this.muted,u(2,v),u(3,l)}return t.$$set=g=>{"playbackRate"in g&&u(0,r=g.playbackRate),"currentTime"in g&&u(7,h=g.currentTime),"paused"in g&&u(1,m=g.paused),"volume"in g&&u(2,v=g.volume),"muted"in g&&u(3,l=g.muted)},t.$$.update=()=>{t.$$.dirty&16&&u(6,c=f==null?void 0:f[0]),t.$$.dirty&64&&i("ready",!!c),t.$$.dirty&32&&u(7,h=n),t.$$.dirty&128&&s(h)},[r,m,v,l,f,n,c,h,o,a,_,d,b]}class Be extends ne{constructor(e){super(),re(this,e,Ce,Pe,se,{playbackRate:0,currentTime:7,paused:1,volume:2,muted:3})}}function ve(t){let e,u;return{c(){e=T("div"),u=L(t[1])},l(c){e=E(c,"DIV",{});var i=R(e);u=P(i,t[1]),i.forEach(y)},m(c,i){D(c,e,i),p(e,u)},p(c,i){i&2&&le(u,c[1])},d(c){c&&y(e)}}}function Ae(t){let e,u,c,i,f,n,r,h,m,v,l,s=t[1]&&ve(t);return{c(){e=T("div"),u=T("input"),c=N(),i=T("button"),f=L("Load Video"),n=N(),r=T("div"),h=N(),s&&s.c(),m=ee(),this.h()},l(o){e=E(o,"DIV",{});var a=R(e);u=E(a,"INPUT",{type:!0,placeholder:!0}),c=I(a),i=E(a,"BUTTON",{});var _=R(i);f=P(_,"Load Video"),_.forEach(y),a.forEach(y),n=I(o),r=E(o,"DIV",{id:!0}),R(r).forEach(y),h=I(o),s&&s.l(o),m=ee(),this.h()},h(){w(u,"type","text"),w(u,"placeholder","Paste YouTube link"),w(r,"id","youtube-player")},m(o,a){D(o,e,a),p(e,u),he(u,t[0]),p(e,c),p(e,i),p(i,f),D(o,n,a),D(o,r,a),D(o,h,a),s&&s.m(o,a),D(o,m,a),v||(l=[V(u,"input",t[8]),V(i,"click",t[2])],v=!0)},p(o,[a]){a&1&&u.value!==o[0]&&he(u,o[0]),o[1]?s?s.p(o,a):(s=ve(o),s.c(),s.m(m.parentNode,m)):s&&(s.d(1),s=null)},i:te,o:te,d(o){o&&y(e),o&&y(n),o&&y(r),o&&y(h),s&&s.d(o),o&&y(m),v=!1,de(l)}}}function Fe(t,e,u){let c,{playbackRate:i}=e,{currentTime:f}=e,{paused:n}=e,{volume:r}=e,{muted:h}=e;const m=Te();let v="",l,s="",o;const a=()=>{if(!c)return;const d=new YT.Player("youtube-player",{videoId:c,playerVars:{autoplay:1,controls:0,disablekb:1,enablejsapi:1,iv_load_policy:3,modestbranding:1,playsinline:1,origin:window.location.origin},events:{onReady:()=>{l=d,m("ready",!0)},onError:b=>{u(1,s="Error: Unable to play the video."),console.error("YouTube Player Error:",b.data),m("ready",!1)},onStateChange:b=>{u(4,n=b.data==YT.PlayerState.PAUSED)}}})};Re(()=>{const d=document.createElement("script");d.src="https://www.youtube.com/iframe_api",(document.head||document.getElementsByTagName("head")[0]).appendChild(d),o=setInterval(()=>{u(3,f=l==null?void 0:l.getCurrentTime())},50)}),Se(()=>{const d=document.createElement("script");d.src="https://www.youtube.com/iframe_api",(document.head||document.getElementsByTagName("head")[0]).removeChild(d),clearInterval(o)}),Ve(()=>{l&&(l.setPlaybackRate(i),l.getCurrentTime()!=f&&l.seekTo(f,!0),n?l.pauseVideo():l.playVideo(),l.setVolume(r*100),h?l.mute():l.unMute())});function _(){v=this.value,u(0,v)}return t.$$set=d=>{"playbackRate"in d&&u(5,i=d.playbackRate),"currentTime"in d&&u(3,f=d.currentTime),"paused"in d&&u(4,n=d.paused),"volume"in d&&u(6,r=d.volume),"muted"in d&&u(7,h=d.muted)},t.$$.update=()=>{t.$$.dirty&1&&(c=new URLSearchParams(new URL(v).search).get("v"))},u(1,s=""),[v,s,a,f,n,i,r,h,_]}class Me extends ne{constructor(e){super(),re(this,e,Fe,Ae,se,{playbackRate:5,currentTime:3,paused:4,volume:6,muted:7})}}function je(t){return Object.entries(t).reduce((e,[u,c])=>({...e,[c]:u}),{})}function ge(t){const e=Math.floor(t/3600).toString().padStart(2,"0"),u=Math.floor(t%3600/60).toString().padStart(2,"0"),c=Math.floor(t%60).toString().padStart(2,"0");return e+":"+u+":"+c}function Ye(t){let e,u,c,i,f,n,r;function h(a){t[22](a)}function m(a){t[23](a)}function v(a){t[24](a)}function l(a){t[25](a)}function s(a){t[26](a)}let o={};return t[2]!==void 0&&(o.playbackRate=t[2]),t[3]!==void 0&&(o.currentTime=t[3]),t[4]!==void 0&&(o.paused=t[4]),t[5]!==void 0&&(o.volume=t[5]),t[6]!==void 0&&(o.muted=t[6]),e=new Me({props:o}),A.push(()=>F(e,"playbackRate",h,t[2])),A.push(()=>F(e,"currentTime",m,t[3])),A.push(()=>F(e,"paused",v,t[4])),A.push(()=>F(e,"volume",l,t[5])),A.push(()=>F(e,"muted",s,t[6])),e.$on("ready",t[27]),{c(){we(e.$$.fragment)},l(a){Ne(e.$$.fragment,a)},m(a,_){Ie(e,a,_),r=!0},p(a,_){const d={};!u&&_[0]&4&&(u=!0,d.playbackRate=a[2],M(()=>u=!1)),!c&&_[0]&8&&(c=!0,d.currentTime=a[3],M(()=>c=!1)),!i&&_[0]&16&&(i=!0,d.paused=a[4],M(()=>i=!1)),!f&&_[0]&32&&(f=!0,d.volume=a[5],M(()=>f=!1)),!n&&_[0]&64&&(n=!0,d.muted=a[6],M(()=>n=!1)),e.$set(d)},i(a){r||(ue(e.$$.fragment,a),r=!0)},o(a){ae(e.$$.fragment,a),r=!1},d(a){Ue(e,a)}}}function qe(t){let e,u,c,i,f,n,r;function h(a){t[16](a)}function m(a){t[17](a)}function v(a){t[18](a)}function l(a){t[19](a)}function s(a){t[20](a)}let o={};return t[2]!==void 0&&(o.playbackRate=t[2]),t[3]!==void 0&&(o.currentTime=t[3]),t[4]!==void 0&&(o.paused=t[4]),t[5]!==void 0&&(o.volume=t[5]),t[6]!==void 0&&(o.muted=t[6]),e=new Be({props:o}),A.push(()=>F(e,"playbackRate",h,t[2])),A.push(()=>F(e,"currentTime",m,t[3])),A.push(()=>F(e,"paused",v,t[4])),A.push(()=>F(e,"volume",l,t[5])),A.push(()=>F(e,"muted",s,t[6])),e.$on("ready",t[21]),{c(){we(e.$$.fragment)},l(a){Ne(e.$$.fragment,a)},m(a,_){Ie(e,a,_),r=!0},p(a,_){const d={};!u&&_[0]&4&&(u=!0,d.playbackRate=a[2],M(()=>u=!1)),!c&&_[0]&8&&(c=!0,d.currentTime=a[3],M(()=>c=!1)),!i&&_[0]&16&&(i=!0,d.paused=a[4],M(()=>i=!1)),!f&&_[0]&32&&(f=!0,d.volume=a[5],M(()=>f=!1)),!n&&_[0]&64&&(n=!0,d.muted=a[6],M(()=>n=!1)),e.$set(d)},i(a){r||(ue(e.$$.fragment,a),r=!0)},o(a){ae(e.$$.fragment,a),r=!1},d(a){Ue(e,a)}}}function ke(t){let e,u,c,i,f,n=ge(t[1])+"",r,h,m,v,l,s,o,a,_,d,b,g,O,q,S,j,K,Q,z,G=Math.round(t[2]*10)*10+"",H,W,X,Y,Z,$,x;return{c(){e=T("article"),u=T("section"),c=N(),i=T("div"),f=L("ðŸš©: "),r=L(n),h=N(),m=T("section"),v=N(),l=T("div"),s=T("button"),o=L("â®"),a=N(),_=T("button"),d=L("ðŸš©"),b=N(),g=T("button"),O=L("âŒ"),q=N(),S=T("div"),j=T("button"),K=L("ðŸ¢"),Q=N(),z=T("button"),H=L(G),W=L("%"),X=N(),Y=T("button"),Z=L("ðŸ‡"),this.h()},l(B){e=E(B,"ARTICLE",{class:!0});var U=R(e);u=E(U,"SECTION",{}),R(u).forEach(y),c=I(U),i=E(U,"DIV",{class:!0});var k=R(i);f=P(k,"ðŸš©: "),r=P(k,n),k.forEach(y),h=I(U),m=E(U,"SECTION",{}),R(m).forEach(y),v=I(U),l=E(U,"DIV",{class:!0});var C=R(l);s=E(C,"BUTTON",{"data-tooltip":!0});var fe=R(s);o=P(fe,"â®"),fe.forEach(y),a=I(C),_=E(C,"BUTTON",{"data-tooltip":!0});var ce=R(_);d=P(ce,"ðŸš©"),ce.forEach(y),b=I(C),g=E(C,"BUTTON",{"data-tooltip":!0});var _e=R(g);O=P(_e,"âŒ"),_e.forEach(y),C.forEach(y),q=I(U),S=E(U,"DIV",{class:!0});var J=R(S);j=E(J,"BUTTON",{"data-tooltip":!0});var me=R(j);K=P(me,"ðŸ¢"),me.forEach(y),Q=I(J),z=E(J,"BUTTON",{});var ie=R(z);H=P(ie,G),W=P(ie,"%"),ie.forEach(y),X=I(J),Y=E(J,"BUTTON",{"data-tooltip":!0});var pe=R(Y);Z=P(pe,"ðŸ‡"),pe.forEach(y),J.forEach(y),U.forEach(y),this.h()},h(){w(i,"class","centered svelte-4xoqdr"),w(s,"data-tooltip","Go Back ("+t[14]("rewind")+")"),w(_,"data-tooltip","Flag ("+t[14]("flag")+")"),w(g,"data-tooltip","Reset Flag ("+t[14]("resetFlag")+")"),w(l,"class","grid"),w(j,"data-tooltip","Slow Down ("+t[14]("slowDown")+")"),w(Y,"data-tooltip","Speed Up ("+t[14]("speedUp")+")"),w(S,"class","grid"),w(e,"class","container")},m(B,U){D(B,e,U),p(e,u),p(e,c),p(e,i),p(i,f),p(i,r),p(e,h),p(e,m),p(e,v),p(e,l),p(l,s),p(s,o),p(l,a),p(l,_),p(_,d),p(l,b),p(l,g),p(g,O),p(e,q),p(e,S),p(S,j),p(j,K),p(S,Q),p(S,z),p(z,H),p(z,W),p(S,X),p(S,Y),p(Y,Z),$||(x=[V(s,"click",t[11]),V(_,"click",t[9]),V(g,"click",t[10]),V(j,"click",t[13]),V(Y,"click",t[12])],$=!0)},p(B,U){U[0]&2&&n!==(n=ge(B[1])+"")&&le(r,n),U[0]&4&&G!==(G=Math.round(B[2]*10)*10+"")&&le(H,G)},d(B){B&&y(e),$=!1,de(x)}}}function ze(t){let e,u,c,i,f,n,r,h,m,v,l,s;const o=[qe,Ye],a=[];function _(b,g){return b[0]==="local"?0:b[0]==="youtube"?1:-1}~(n=_(t))&&(r=a[n]=o[n](t));let d=t[7]&&ke(t);return{c(){e=T("article"),u=T("button"),c=L("Change Source"),i=N(),f=T("article"),r&&r.c(),h=N(),m=T("div"),d&&d.c(),this.h()},l(b){e=E(b,"ARTICLE",{class:!0});var g=R(e);u=E(g,"BUTTON",{});var O=R(u);c=P(O,"Change Source"),O.forEach(y),g.forEach(y),i=I(b),f=E(b,"ARTICLE",{class:!0});var q=R(f);r&&r.l(q),q.forEach(y),h=I(b),m=E(b,"DIV",{});var S=R(m);d&&d.l(S),S.forEach(y),this.h()},h(){w(e,"class","container"),w(f,"class","container")},m(b,g){D(b,e,g),p(e,u),p(u,c),D(b,i,g),D(b,f,g),~n&&a[n].m(f,null),D(b,h,g),D(b,m,g),d&&d.m(m,null),v=!0,l||(s=V(u,"click",t[15]),l=!0)},p(b,g){let O=n;n=_(b),n===O?~n&&a[n].p(b,g):(r&&(Le(),ae(a[O],1,1,()=>{a[O]=null}),Oe()),~n?(r=a[n],r?r.p(b,g):(r=a[n]=o[n](b),r.c()),ue(r,1),r.m(f,null)):r=null),b[7]?d?d.p(b,g):(d=ke(b),d.c(),d.m(m,null)):d&&(d.d(1),d=null)},i(b){v||(ue(r),v=!0)},o(b){ae(r),v=!1},d(b){b&&y(e),b&&y(i),b&&y(f),~n&&a[n].d(),b&&y(h),b&&y(m),d&&d.d(),l=!1,s()}}}const oe=.1;function Ge(t,e,u){let c="local",i=0,f=1,n=0,r=!0,h=1,m=!1,v=!1;function l(k,C){c===k&&u(7,v=C.detail)}const s={flag:()=>u(1,i=n),resetFlag:()=>u(1,i=0),rewind:async()=>{await Ee(),u(3,n=i)},speedUp:()=>u(2,f+=oe),slowDown:()=>{f-oe>0&&u(2,f-=oe)},togglePlayback:()=>u(4,r=!r)},{flag:o,resetFlag:a,rewind:_,speedUp:d,slowDown:b,togglePlayback:g}=s,O={v:"resetFlag",f:"flag",r:"rewind",">":"speedUp","<":"slowDown"," ":"togglePlayback"},q=je(O);function S(k){return q[k]}function j(k){const C=O[k.key];C&&s[C]()}Re(()=>{document.addEventListener("keyup",j)});const K=()=>u(0,c=c=="local"?"youtube":"local");function Q(k){f=k,u(2,f)}function z(k){n=k,u(3,n)}function G(k){r=k,u(4,r)}function H(k){h=k,u(5,h)}function W(k){m=k,u(6,m)}const X=k=>l("local",k);function Y(k){f=k,u(2,f)}function Z(k){n=k,u(3,n)}function $(k){r=k,u(4,r)}function x(k){h=k,u(5,h)}function B(k){m=k,u(6,m)}return[c,i,f,n,r,h,m,v,l,o,a,_,d,b,S,K,Q,z,G,H,W,X,Y,Z,$,x,B,k=>l("youtube",k)]}class Je extends ne{constructor(e){super(),re(this,e,Ge,ze,se,{},null,[-1,-1])}}export{Je as default};
