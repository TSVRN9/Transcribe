import{S as ke,i as Te,s as Ee,k as y,a as U,e as se,l as g,m as T,h as m,c as V,n as w,b as L,H as f,J as S,C as de,K as fe,L as Oe,M as He,N as Re,B as we,O as Je,q as P,r as O,P as Be,o as Me,Q as Ke,j as Qe,u as ie,t as ce,d as We,f as _e,g as Xe,v as G,R as H,x as je,y as qe,z as Ye,T as J,A as ze}from"../../chunks/index-f4f4a71f.js";function Ce(a){let e,l,c,o,_,n=!1,d,h=!0,p,b,s,t;function u(){cancelAnimationFrame(d),o.paused||(d=Je(u),n=!0),a[11].call(o)}return{c(){e=y("div"),l=y("div"),c=U(),o=y("audio"),p=U(),b=y("div"),this.h()},l(i){e=g(i,"DIV",{class:!0});var k=T(e);l=g(k,"DIV",{}),T(l).forEach(m),c=V(k),o=g(k,"AUDIO",{src:!0}),T(o).forEach(m),p=V(k),b=g(k,"DIV",{}),T(b).forEach(m),k.forEach(m),this.h()},h(){o.controls=!0,Oe(o.src,_=URL.createObjectURL(a[7]))||w(o,"src",_),a[6]===void 0&&He(()=>a[14].call(o)),w(e,"class","grid")},m(i,k){L(i,e,k),f(e,l),f(e,c),f(e,o),isNaN(a[0])||(o.playbackRate=a[0]),isNaN(a[2])||(o.volume=a[2]),o.muted=a[3],f(e,p),f(e,b),s||(t=[S(o,"ratechange",a[10]),S(o,"timeupdate",u),S(o,"play",a[12]),S(o,"pause",a[12]),S(o,"volumechange",a[13]),S(o,"durationchange",a[14])],s=!0)},p(i,k){k&128&&!Oe(o.src,_=URL.createObjectURL(i[7]))&&w(o,"src",_),k&1&&!isNaN(i[0])&&(o.playbackRate=i[0]),!n&&k&32&&!isNaN(i[5])&&(o.currentTime=i[5]),n=!1,k&2&&h!==(h=i[1])&&o[h?"pause":"play"](),k&4&&!isNaN(i[2])&&(o.volume=i[2]),k&8&&(o.muted=i[3])},d(i){i&&m(e),s=!1,Re(t)}}}function Ze(a){let e,l,c,o,_,n,d,h,p,b,s=a[7]&&Ce(a);return{c(){e=y("div"),l=y("div"),c=U(),o=y("input"),_=U(),n=y("div"),d=U(),s&&s.c(),h=se(),this.h()},l(t){e=g(t,"DIV",{class:!0});var u=T(e);l=g(u,"DIV",{}),T(l).forEach(m),c=V(u),o=g(u,"INPUT",{type:!0,accept:!0}),_=V(u),n=g(u,"DIV",{}),T(n).forEach(m),u.forEach(m),d=V(t),s&&s.l(t),h=se(),this.h()},h(){w(o,"type","file"),w(o,"accept",".mp3, .ogg, .wav"),w(e,"class","grid")},m(t,u){L(t,e,u),f(e,l),f(e,c),f(e,o),f(e,_),f(e,n),L(t,d,u),s&&s.m(t,u),L(t,h,u),p||(b=S(o,"change",a[9]),p=!0)},p(t,[u]){t[7]?s?s.p(t,u):(s=Ce(t),s.c(),s.m(h.parentNode,h)):s&&(s.d(1),s=null)},i:de,o:de,d(t){t&&m(e),t&&m(d),s&&s.d(t),t&&m(h),p=!1,b()}}}function $e(a,e,l){let c;const o=fe(),_=fe();let n,d=0,h=0,p=0,{playbackRate:b=1,paused:s=!0,volume:t=1,muted:u=!1}=e;async function i(I){await we(),l(5,h=I),_("currentTime",{currentTime:d})}function k(){n=this.files,l(4,n)}function E(){b=this.playbackRate,l(0,b)}function r(){h=this.currentTime,l(5,h)}function R(){s=this.paused,l(1,s)}function D(){t=this.volume,u=this.muted,l(2,t),l(3,u)}function B(){p=this.duration,l(6,p)}return a.$$set=I=>{"playbackRate"in I&&l(0,b=I.playbackRate),"paused"in I&&l(1,s=I.paused),"volume"in I&&l(2,t=I.volume),"muted"in I&&l(3,u=I.muted)},a.$$.update=()=>{a.$$.dirty&16&&l(7,c=n==null?void 0:n[0]),a.$$.dirty&192&&o("ready",{isReady:!!c,audioLength:c?p:0,seek:I=>{i(I)}}),a.$$.dirty&32&&l(8,d=h),a.$$.dirty&256&&i(d)},[b,s,t,u,n,h,p,c,d,k,E,r,R,D,B]}class xe extends ke{constructor(e){super(),Te(this,e,$e,Ze,Ee,{playbackRate:0,paused:1,volume:2,muted:3})}}const Ge=()=>{};function Ae(a){let e,l;return{c(){e=y("div"),l=P(a[1])},l(c){e=g(c,"DIV",{});var o=T(e);l=O(o,a[1]),o.forEach(m)},m(c,o){L(c,e,o),f(e,l)},p(c,o){o&2&&ie(l,c[1])},d(c){c&&m(e)}}}function et(a){let e,l,c,o,_,n,d,h,p,b,s,t=a[1]&&Ae(a);return{c(){e=y("div"),l=y("input"),c=U(),o=y("button"),_=P("Load Video"),n=U(),d=y("div"),h=U(),t&&t.c(),p=se(),this.h()},l(u){e=g(u,"DIV",{});var i=T(e);l=g(i,"INPUT",{type:!0,placeholder:!0}),c=V(i),o=g(i,"BUTTON",{});var k=T(o);_=O(k,"Load Video"),k.forEach(m),i.forEach(m),n=V(u),d=g(u,"DIV",{id:!0}),T(d).forEach(m),h=V(u),t&&t.l(u),p=se(),this.h()},h(){w(l,"type","text"),w(l,"placeholder","Paste YouTube link"),w(d,"id","youtube-player")},m(u,i){L(u,e,i),f(e,l),Be(l,a[0]),f(e,c),f(e,o),f(o,_),L(u,n,i),L(u,d,i),L(u,h,i),t&&t.m(u,i),L(u,p,i),b||(s=[S(l,"input",a[7]),S(o,"click",a[2])],b=!0)},p(u,[i]){i&1&&l.value!==u[0]&&Be(l,u[0]),u[1]?t?t.p(u,i):(t=Ae(u),t.c(),t.m(p.parentNode,p)):t&&(t.d(1),t=null)},i:de,o:de,d(u){u&&m(e),u&&m(n),u&&m(d),u&&m(h),t&&t.d(u),u&&m(p),b=!1,Re(s)}}}function tt(a,e,l){let c,{playbackRate:o}=e,{paused:_}=e,{volume:n}=e,{muted:d}=e;const h=fe(),p=fe();let b,s="",t,u="",i;const k=()=>{if(console.log(c),!c)return;const r=new YT.Player("youtube-player",{width:1,height:1,videoId:c,playerVars:{autoplay:1,controls:0,disablekb:1,enablejsapi:1,iv_load_policy:3,modestbranding:1,playsinline:1,origin:window.location.origin},events:{onReady:()=>{t=r,h("ready",{isReady:!0,audioLength:r.getDuration(),seek:R=>{t.seekTo(R)}})},onError:R=>{l(1,u="Error: Unable to play the video."),console.error("YouTube Player Error:",R.data),h("ready",{isReady:!1,audioLength:0,seek:Ge})},onStateChange:R=>{l(3,_=R.data==YT.PlayerState.PAUSED)}}})};Me(()=>{b=document.createElement("script"),b.src="https://www.youtube.com/iframe_api",(document.head||document.getElementsByTagName("head")[0]).appendChild(b),i=setInterval(()=>{t&&p("currentTime",{currentTime:t.getCurrentTime()})},50)}),Ke(()=>{(document.head||document.getElementsByTagName("head")[0]).removeChild(b),clearInterval(i)}),Qe(async()=>{t&&(await we(),t.getPlaybackRate()!=o&&t.setPlaybackRate(o),_?t.pauseVideo():t.playVideo(),t.setVolume(n*100),d?t.mute():t.unMute())});function E(){s=this.value,l(0,s)}return a.$$set=r=>{"playbackRate"in r&&l(4,o=r.playbackRate),"paused"in r&&l(3,_=r.paused),"volume"in r&&l(5,n=r.volume),"muted"in r&&l(6,d=r.muted)},a.$$.update=()=>{a.$$.dirty&1&&(c=(()=>{try{return s?new URLSearchParams(new URL(s).search).get("v"):void 0}catch{}})())},l(1,u=""),[s,u,k,_,o,n,d,E]}class at extends ke{constructor(e){super(),Te(this,e,tt,et,Ee,{playbackRate:4,paused:3,volume:5,muted:6})}}function lt(a){return Object.entries(a).reduce((e,[l,c])=>({...e,[c]:l}),{})}function re(a){const e=Math.floor(a/3600).toString().padStart(2,"0"),l=Math.floor(a%3600/60).toString().padStart(2,"0"),c=Math.floor(a%60).toString().padStart(2,"0");return e+":"+l+":"+c}function ot(a){let e,l,c,o,_,n;function d(t){a[25](t)}function h(t){a[26](t)}function p(t){a[27](t)}function b(t){a[28](t)}let s={};return a[2]!==void 0&&(s.playbackRate=a[2]),a[4]!==void 0&&(s.paused=a[4]),a[5]!==void 0&&(s.volume=a[5]),a[6]!==void 0&&(s.muted=a[6]),e=new at({props:s}),G.push(()=>H(e,"playbackRate",d,a[2])),G.push(()=>H(e,"paused",h,a[4])),G.push(()=>H(e,"volume",p,a[5])),G.push(()=>H(e,"muted",b,a[6])),e.$on("ready",a[29]),e.$on("currentTime",a[30]),{c(){je(e.$$.fragment)},l(t){qe(e.$$.fragment,t)},m(t,u){Ye(e,t,u),n=!0},p(t,u){const i={};!l&&u[0]&4&&(l=!0,i.playbackRate=t[2],J(()=>l=!1)),!c&&u[0]&16&&(c=!0,i.paused=t[4],J(()=>c=!1)),!o&&u[0]&32&&(o=!0,i.volume=t[5],J(()=>o=!1)),!_&&u[0]&64&&(_=!0,i.muted=t[6],J(()=>_=!1)),e.$set(i)},i(t){n||(_e(e.$$.fragment,t),n=!0)},o(t){ce(e.$$.fragment,t),n=!1},d(t){ze(e,t)}}}function ut(a){let e,l,c,o,_,n;function d(t){a[19](t)}function h(t){a[20](t)}function p(t){a[21](t)}function b(t){a[22](t)}let s={};return a[2]!==void 0&&(s.playbackRate=a[2]),a[4]!==void 0&&(s.paused=a[4]),a[5]!==void 0&&(s.volume=a[5]),a[6]!==void 0&&(s.muted=a[6]),e=new xe({props:s}),G.push(()=>H(e,"playbackRate",d,a[2])),G.push(()=>H(e,"paused",h,a[4])),G.push(()=>H(e,"volume",p,a[5])),G.push(()=>H(e,"muted",b,a[6])),e.$on("ready",a[23]),e.$on("currentTime",a[24]),{c(){je(e.$$.fragment)},l(t){qe(e.$$.fragment,t)},m(t,u){Ye(e,t,u),n=!0},p(t,u){const i={};!l&&u[0]&4&&(l=!0,i.playbackRate=t[2],J(()=>l=!1)),!c&&u[0]&16&&(c=!0,i.paused=t[4],J(()=>c=!1)),!o&&u[0]&32&&(o=!0,i.volume=t[5],J(()=>o=!1)),!_&&u[0]&64&&(_=!0,i.muted=t[6],J(()=>_=!1)),e.$set(i)},i(t){n||(_e(e.$$.fragment,t),n=!0)},o(t){ce(e.$$.fragment,t),n=!1},d(t){ze(e,t)}}}function Fe(a){let e,l,c,o,_,n=re(a[3])+"",d,h,p,b,s=re(a[1])+"",t,u,i,k,E,r,R,D,B,I,x,M,ee,te,j,K=a[4]?"â–¶ï¸":"â¸",X,ae,q,le,oe,C,Y,ue,ne,Q,Z=Math.round(a[2]*10)*10+"",v,F,pe,W,me,he,De;return{c(){e=y("article"),l=y("section"),c=U(),o=y("div"),_=P("â±ï¸: "),d=P(n),h=U(),p=y("div"),b=P("ðŸš©: "),t=P(s),u=U(),i=y("section"),k=U(),E=y("div"),r=y("input"),R=U(),D=y("div"),B=y("button"),I=P("â®"),x=U(),M=y("button"),ee=P("ðŸš©"),te=U(),j=y("button"),X=P(K),ae=U(),q=y("button"),le=P("âŒ"),oe=U(),C=y("div"),Y=y("button"),ue=P("ðŸ¢"),ne=U(),Q=y("button"),v=P(Z),F=P("%"),pe=U(),W=y("button"),me=P("ðŸ‡"),this.h()},l(A){e=g(A,"ARTICLE",{class:!0});var N=T(e);l=g(N,"SECTION",{}),T(l).forEach(m),c=V(N),o=g(N,"DIV",{class:!0});var be=T(o);_=O(be,"â±ï¸: "),d=O(be,n),be.forEach(m),h=V(N),p=g(N,"DIV",{class:!0});var ve=T(p);b=O(ve,"ðŸš©: "),t=O(ve,s),ve.forEach(m),u=V(N),i=g(N,"SECTION",{}),T(i).forEach(m),k=V(N),E=g(N,"DIV",{class:!0});var Ne=T(E);r=g(Ne,"INPUT",{type:!0,min:!0,max:!0}),Ne.forEach(m),R=V(N),D=g(N,"DIV",{class:!0});var z=T(D);B=g(z,"BUTTON",{"data-tooltip":!0});var Ie=T(B);I=O(Ie,"â®"),Ie.forEach(m),x=V(z),M=g(z,"BUTTON",{"data-tooltip":!0});var Ue=T(M);ee=O(Ue,"ðŸš©"),Ue.forEach(m),te=V(z),j=g(z,"BUTTON",{"data-tooltip":!0});var Ve=T(j);X=O(Ve,K),Ve.forEach(m),ae=V(z),q=g(z,"BUTTON",{"data-tooltip":!0});var Se=T(q);le=O(Se,"âŒ"),Se.forEach(m),z.forEach(m),oe=V(N),C=g(N,"DIV",{class:!0});var $=T(C);Y=g($,"BUTTON",{"data-tooltip":!0});var Le=T(Y);ue=O(Le,"ðŸ¢"),Le.forEach(m),ne=V($),Q=g($,"BUTTON",{});var ye=T(Q);v=O(ye,Z),F=O(ye,"%"),ye.forEach(m),pe=V($),W=g($,"BUTTON",{"data-tooltip":!0});var Pe=T(W);me=O(Pe,"ðŸ‡"),Pe.forEach(m),$.forEach(m),N.forEach(m),this.h()},h(){w(o,"class","centered svelte-4xoqdr"),w(p,"class","centered svelte-4xoqdr"),w(r,"type","range"),r.value=a[3],w(r,"min","0"),w(r,"max",a[8]),w(E,"class","grid"),w(B,"data-tooltip","Go Back ("+a[17]("rewind")+")"),w(M,"data-tooltip","Flag ("+a[17]("flag")+")"),w(j,"data-tooltip","Pause/Unpause ("+a[17]("togglePlayback")+")"),w(q,"data-tooltip","Reset Flag ("+a[17]("resetFlag")+")"),w(D,"class","grid"),w(Y,"data-tooltip","Slow Down ("+a[17]("slowDown")+")"),w(W,"data-tooltip","Speed Up ("+a[17]("speedUp")+")"),w(C,"class","grid"),w(e,"class","container")},m(A,N){L(A,e,N),f(e,l),f(e,c),f(e,o),f(o,_),f(o,d),f(e,h),f(e,p),f(p,b),f(p,t),f(e,u),f(e,i),f(e,k),f(e,E),f(E,r),f(e,R),f(e,D),f(D,B),f(B,I),f(D,x),f(D,M),f(M,ee),f(D,te),f(D,j),f(j,X),f(D,ae),f(D,q),f(q,le),f(e,oe),f(e,C),f(C,Y),f(Y,ue),f(C,ne),f(C,Q),f(Q,v),f(Q,F),f(C,pe),f(C,W),f(W,me),he||(De=[S(r,"input",a[31]),S(B,"click",a[13]),S(M,"click",a[11]),S(j,"click",a[16]),S(q,"click",a[12]),S(Y,"click",a[15]),S(W,"click",a[14])],he=!0)},p(A,N){N[0]&8&&n!==(n=re(A[3])+"")&&ie(d,n),N[0]&2&&s!==(s=re(A[1])+"")&&ie(t,s),N[0]&8&&(r.value=A[3]),N[0]&256&&w(r,"max",A[8]),N[0]&16&&K!==(K=A[4]?"â–¶ï¸":"â¸")&&ie(X,K),N[0]&4&&Z!==(Z=Math.round(A[2]*10)*10+"")&&ie(v,Z)},d(A){A&&m(e),he=!1,Re(De)}}}function it(a){let e,l,c,o,_,n,d,h,p,b,s,t;const u=[ut,ot],i=[];function k(r,R){return r[0]==="local"?0:r[0]==="youtube"?1:-1}~(n=k(a))&&(d=i[n]=u[n](a));let E=a[7]&&Fe(a);return{c(){e=y("article"),l=y("button"),c=P("Change Source"),o=U(),_=y("article"),d&&d.c(),h=U(),p=y("div"),E&&E.c(),this.h()},l(r){e=g(r,"ARTICLE",{class:!0});var R=T(e);l=g(R,"BUTTON",{});var D=T(l);c=O(D,"Change Source"),D.forEach(m),R.forEach(m),o=V(r),_=g(r,"ARTICLE",{class:!0});var B=T(_);d&&d.l(B),B.forEach(m),h=V(r),p=g(r,"DIV",{});var I=T(p);E&&E.l(I),I.forEach(m),this.h()},h(){w(e,"class","container"),w(_,"class","container")},m(r,R){L(r,e,R),f(e,l),f(l,c),L(r,o,R),L(r,_,R),~n&&i[n].m(_,null),L(r,h,R),L(r,p,R),E&&E.m(p,null),b=!0,s||(t=S(l,"click",a[18]),s=!0)},p(r,R){let D=n;n=k(r),n===D?~n&&i[n].p(r,R):(d&&(Xe(),ce(i[D],1,1,()=>{i[D]=null}),We()),~n?(d=i[n],d?d.p(r,R):(d=i[n]=u[n](r),d.c()),_e(d,1),d.m(_,null)):d=null),r[7]?E?E.p(r,R):(E=Fe(r),E.c(),E.m(p,null)):E&&(E.d(1),E=null)},i(r){b||(_e(d),b=!0)},o(r){ce(d),b=!1},d(r){r&&m(e),r&&m(o),r&&m(_),~n&&i[n].d(),r&&m(h),r&&m(p),E&&E.d(),s=!1,t()}}}const ge=.1;function nt(a,e,l){let c="local",o=0,_=1,n=0,d=!0,h=1,p=!1,b=!1,s=0,t=Ge;function u(v,F){c===v&&(l(7,b=F.detail.isReady),l(8,s=F.detail.audioLength),l(9,t=F.detail.seek))}const i={flag:()=>l(1,o=n),resetFlag:()=>l(1,o=0),rewind:async()=>{await we(),t(o)},speedUp:()=>l(2,_+=ge),slowDown:()=>{_-ge>0&&l(2,_-=ge)},togglePlayback:()=>l(4,d=!d)},{flag:k,resetFlag:E,rewind:r,speedUp:R,slowDown:D,togglePlayback:B}=i,I={v:"resetFlag",f:"flag",r:"rewind",">":"speedUp","<":"slowDown"," ":"togglePlayback"},x=lt(I);function M(v){return x[v]}function ee(v){const F=I[v.key];F&&i[F]()}Me(()=>{document.addEventListener("keyup",ee)});const te=()=>l(0,c=c=="local"?"youtube":"local");function j(v){_=v,l(2,_)}function K(v){d=v,l(4,d)}function X(v){h=v,l(5,h)}function ae(v){p=v,l(6,p)}const q=v=>u("local",v),le=v=>l(3,n=v.detail.currentTime);function oe(v){_=v,l(2,_)}function C(v){d=v,l(4,d)}function Y(v){h=v,l(5,h)}function ue(v){p=v,l(6,p)}return[c,o,_,n,d,h,p,b,s,t,u,k,E,r,R,D,B,M,te,j,K,X,ae,q,le,oe,C,Y,ue,v=>u("youtube",v),v=>l(3,n=v.detail.currentTime),v=>{t(v.target.value)}]}class st extends ke{constructor(e){super(),Te(this,e,nt,it,Ee,{},null,[-1,-1])}}export{st as default};
