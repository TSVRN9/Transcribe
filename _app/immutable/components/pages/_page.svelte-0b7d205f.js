import{S as ne,i as re,s as se,k as T,a as N,e as ee,l as E,m as R,h as b,c as I,n as w,b as D,H as m,J as S,C as te,K as Te,L as be,M as de,B as Ee,N as De,q as L,r as P,O as he,o as Re,P as Ve,j as Se,u as le,t as ae,d as Oe,f as ue,g as Le,v as A,Q as F,x as we,y as Ne,z as Ie,R as M,A as Ue}from"../../chunks/index-ea645a6a.js";function ye(t){let e,u,c,i,f,s=!1,r,p=!0,_,v,n,d;function o(){cancelAnimationFrame(r),i.paused||(r=De(o),s=!0),t[10].call(i)}return{c(){e=T("div"),u=T("div"),c=N(),i=T("audio"),_=N(),v=T("div"),this.h()},l(a){e=E(a,"DIV",{class:!0});var l=R(e);u=E(l,"DIV",{}),R(u).forEach(b),c=I(l),i=E(l,"AUDIO",{src:!0}),R(i).forEach(b),_=I(l),v=E(l,"DIV",{}),R(v).forEach(b),l.forEach(b),this.h()},h(){i.controls=!0,be(i.src,f=URL.createObjectURL(t[6]))||w(i,"src",f),w(e,"class","grid")},m(a,l){D(a,e,l),m(e,u),m(e,c),m(e,i),isNaN(t[0])||(i.playbackRate=t[0]),isNaN(t[2])||(i.volume=t[2]),i.muted=t[3],m(e,_),m(e,v),n||(d=[S(i,"ratechange",t[9]),S(i,"timeupdate",o),S(i,"play",t[11]),S(i,"pause",t[11]),S(i,"volumechange",t[12])],n=!0)},p(a,l){l&64&&!be(i.src,f=URL.createObjectURL(a[6]))&&w(i,"src",f),l&1&&!isNaN(a[0])&&(i.playbackRate=a[0]),!s&&l&32&&!isNaN(a[5])&&(i.currentTime=a[5]),s=!1,l&2&&p!==(p=a[1])&&i[p?"pause":"play"](),l&4&&!isNaN(a[2])&&(i.volume=a[2]),l&8&&(i.muted=a[3])},d(a){a&&b(e),n=!1,de(d)}}}function Pe(t){let e,u,c,i,f,s,r,p,_,v,n=t[6]&&ye(t);return{c(){e=T("div"),u=T("div"),c=N(),i=T("input"),f=N(),s=T("div"),r=N(),n&&n.c(),p=ee(),this.h()},l(d){e=E(d,"DIV",{class:!0});var o=R(e);u=E(o,"DIV",{}),R(u).forEach(b),c=I(o),i=E(o,"INPUT",{type:!0,accept:!0}),f=I(o),s=E(o,"DIV",{}),R(s).forEach(b),o.forEach(b),r=I(d),n&&n.l(d),p=ee(),this.h()},h(){w(i,"type","file"),w(i,"accept",".mp3, .ogg, .wav"),w(e,"class","grid")},m(d,o){D(d,e,o),m(e,u),m(e,c),m(e,i),m(e,f),m(e,s),D(d,r,o),n&&n.m(d,o),D(d,p,o),_||(v=S(i,"change",t[8]),_=!0)},p(d,[o]){d[6]?n?n.p(d,o):(n=ye(d),n.c(),n.m(p.parentNode,p)):n&&(n.d(1),n=null)},i:te,o:te,d(d){d&&b(e),d&&b(r),n&&n.d(d),d&&b(p),_=!1,v()}}}function Be(t,e,u){let c;const i=Te();let f,s=0,{playbackRate:r=1,currentTime:p=0,paused:_=!0,volume:v=1,muted:n=!1}=e;async function d(g){await Ee(),u(5,s=g),u(1,_=!1)}function o(){f=this.files,u(4,f)}function a(){r=this.playbackRate,u(0,r)}function l(){s=this.currentTime,u(5,s)}function h(){_=this.paused,u(1,_)}function y(){v=this.volume,n=this.muted,u(2,v),u(3,n)}return t.$$set=g=>{"playbackRate"in g&&u(0,r=g.playbackRate),"currentTime"in g&&u(7,p=g.currentTime),"paused"in g&&u(1,_=g.paused),"volume"in g&&u(2,v=g.volume),"muted"in g&&u(3,n=g.muted)},t.$$.update=()=>{t.$$.dirty&16&&u(6,c=f==null?void 0:f[0]),t.$$.dirty&64&&i("ready",!!c),t.$$.dirty&32&&u(7,p=s),t.$$.dirty&128&&d(p)},[r,_,v,n,f,s,c,p,o,a,l,h,y]}class Ce extends ne{constructor(e){super(),re(this,e,Be,Pe,se,{playbackRate:0,currentTime:7,paused:1,volume:2,muted:3})}}function ve(t){let e,u;return{c(){e=T("div"),u=L(t[1])},l(c){e=E(c,"DIV",{});var i=R(e);u=P(i,t[1]),i.forEach(b)},m(c,i){D(c,e,i),m(e,u)},p(c,i){i&2&&le(u,c[1])},d(c){c&&b(e)}}}function Ae(t){let e,u,c,i,f,s,r,p,_,v,n,d=t[1]&&ve(t);return{c(){e=T("div"),u=T("input"),c=N(),i=T("button"),f=L("Load Video"),s=N(),r=T("div"),p=N(),d&&d.c(),_=ee(),this.h()},l(o){e=E(o,"DIV",{});var a=R(e);u=E(a,"INPUT",{type:!0,placeholder:!0}),c=I(a),i=E(a,"BUTTON",{});var l=R(i);f=P(l,"Load Video"),l.forEach(b),a.forEach(b),s=I(o),r=E(o,"DIV",{id:!0}),R(r).forEach(b),p=I(o),d&&d.l(o),_=ee(),this.h()},h(){w(u,"type","text"),w(u,"placeholder","Paste YouTube link"),w(r,"id","youtube-player")},m(o,a){D(o,e,a),m(e,u),he(u,t[0]),m(e,c),m(e,i),m(i,f),D(o,s,a),D(o,r,a),D(o,p,a),d&&d.m(o,a),D(o,_,a),v||(n=[S(u,"input",t[8]),S(i,"click",t[2])],v=!0)},p(o,[a]){a&1&&u.value!==o[0]&&he(u,o[0]),o[1]?d?d.p(o,a):(d=ve(o),d.c(),d.m(_.parentNode,_)):d&&(d.d(1),d=null)},i:te,o:te,d(o){o&&b(e),o&&b(s),o&&b(r),o&&b(p),d&&d.d(o),o&&b(_),v=!1,de(n)}}}function Fe(t,e,u){let c,{playbackRate:i}=e,{currentTime:f}=e,{paused:s}=e,{volume:r}=e,{muted:p}=e;const _=Te();let v="",n,d="";const o=()=>{if(!c)return;const l=new YT.Player("youtube-player",{videoId:c,playerVars:{autoplay:1,controls:0,disablekb:1,enablejsapi:1,iv_load_policy:3,modestbranding:1,playsinline:1,origin:window.location.origin},events:{onReady:()=>{n=l,_("ready",!0)},onError:h=>{u(1,d="Error: Unable to play the video."),console.error("YouTube Player Error:",h.data),_("ready",!1)}}})};Re(()=>{const l=document.createElement("script");l.src="https://www.youtube.com/iframe_api",(document.head||document.getElementsByTagName("head")[0]).appendChild(l),setInterval(()=>{u(3,f=n==null?void 0:n.getCurrentTime())},50)}),Ve(()=>{const l=document.createElement("script");l.src="https://www.youtube.com/iframe_api",(document.head||document.getElementsByTagName("head")[0]).removeChild(l)}),Se(()=>{n&&(n.setPlaybackRate(i),n.seekTo(f,!0),s?n.pauseVideo():n.playVideo(),n.setVolume(r*100),p?n.mute():n.unMute())});function a(){v=this.value,u(0,v)}return t.$$set=l=>{"playbackRate"in l&&u(4,i=l.playbackRate),"currentTime"in l&&u(3,f=l.currentTime),"paused"in l&&u(5,s=l.paused),"volume"in l&&u(6,r=l.volume),"muted"in l&&u(7,p=l.muted)},t.$$.update=()=>{t.$$.dirty&1&&(c=new URLSearchParams(v).get("v"))},u(1,d=""),[v,d,o,f,i,s,r,p,a]}class Me extends ne{constructor(e){super(),re(this,e,Fe,Ae,se,{playbackRate:4,currentTime:3,paused:5,volume:6,muted:7})}}function je(t){return Object.entries(t).reduce((e,[u,c])=>({...e,[c]:u}),{})}function ge(t){const e=Math.floor(t/3600).toString().padStart(2,"0"),u=Math.floor(t%3600/60).toString().padStart(2,"0"),c=Math.floor(t%60).toString().padStart(2,"0");return e+":"+u+":"+c}function qe(t){let e,u,c,i,f,s,r;function p(a){t[22](a)}function _(a){t[23](a)}function v(a){t[24](a)}function n(a){t[25](a)}function d(a){t[26](a)}let o={};return t[2]!==void 0&&(o.playbackRate=t[2]),t[3]!==void 0&&(o.currentTime=t[3]),t[4]!==void 0&&(o.paused=t[4]),t[5]!==void 0&&(o.volume=t[5]),t[6]!==void 0&&(o.muted=t[6]),e=new Me({props:o}),A.push(()=>F(e,"playbackRate",p,t[2])),A.push(()=>F(e,"currentTime",_,t[3])),A.push(()=>F(e,"paused",v,t[4])),A.push(()=>F(e,"volume",n,t[5])),A.push(()=>F(e,"muted",d,t[6])),e.$on("ready",t[27]),{c(){we(e.$$.fragment)},l(a){Ne(e.$$.fragment,a)},m(a,l){Ie(e,a,l),r=!0},p(a,l){const h={};!u&&l[0]&4&&(u=!0,h.playbackRate=a[2],M(()=>u=!1)),!c&&l[0]&8&&(c=!0,h.currentTime=a[3],M(()=>c=!1)),!i&&l[0]&16&&(i=!0,h.paused=a[4],M(()=>i=!1)),!f&&l[0]&32&&(f=!0,h.volume=a[5],M(()=>f=!1)),!s&&l[0]&64&&(s=!0,h.muted=a[6],M(()=>s=!1)),e.$set(h)},i(a){r||(ue(e.$$.fragment,a),r=!0)},o(a){ae(e.$$.fragment,a),r=!1},d(a){Ue(e,a)}}}function Ye(t){let e,u,c,i,f,s,r;function p(a){t[16](a)}function _(a){t[17](a)}function v(a){t[18](a)}function n(a){t[19](a)}function d(a){t[20](a)}let o={};return t[2]!==void 0&&(o.playbackRate=t[2]),t[3]!==void 0&&(o.currentTime=t[3]),t[4]!==void 0&&(o.paused=t[4]),t[5]!==void 0&&(o.volume=t[5]),t[6]!==void 0&&(o.muted=t[6]),e=new Ce({props:o}),A.push(()=>F(e,"playbackRate",p,t[2])),A.push(()=>F(e,"currentTime",_,t[3])),A.push(()=>F(e,"paused",v,t[4])),A.push(()=>F(e,"volume",n,t[5])),A.push(()=>F(e,"muted",d,t[6])),e.$on("ready",t[21]),{c(){we(e.$$.fragment)},l(a){Ne(e.$$.fragment,a)},m(a,l){Ie(e,a,l),r=!0},p(a,l){const h={};!u&&l[0]&4&&(u=!0,h.playbackRate=a[2],M(()=>u=!1)),!c&&l[0]&8&&(c=!0,h.currentTime=a[3],M(()=>c=!1)),!i&&l[0]&16&&(i=!0,h.paused=a[4],M(()=>i=!1)),!f&&l[0]&32&&(f=!0,h.volume=a[5],M(()=>f=!1)),!s&&l[0]&64&&(s=!0,h.muted=a[6],M(()=>s=!1)),e.$set(h)},i(a){r||(ue(e.$$.fragment,a),r=!0)},o(a){ae(e.$$.fragment,a),r=!1},d(a){Ue(e,a)}}}function ke(t){let e,u,c,i,f,s=ge(t[1])+"",r,p,_,v,n,d,o,a,l,h,y,g,O,Y,V,j,K,Q,z,G=Math.round(t[2]*10)*10+"",H,W,X,q,Z,$,x;return{c(){e=T("article"),u=T("section"),c=N(),i=T("div"),f=L("ðŸš©: "),r=L(s),p=N(),_=T("section"),v=N(),n=T("div"),d=T("button"),o=L("â®"),a=N(),l=T("button"),h=L("ðŸš©"),y=N(),g=T("button"),O=L("âŒ"),Y=N(),V=T("div"),j=T("button"),K=L("ðŸ¢"),Q=N(),z=T("button"),H=L(G),W=L("%"),X=N(),q=T("button"),Z=L("ðŸ‡"),this.h()},l(C){e=E(C,"ARTICLE",{class:!0});var U=R(e);u=E(U,"SECTION",{}),R(u).forEach(b),c=I(U),i=E(U,"DIV",{class:!0});var k=R(i);f=P(k,"ðŸš©: "),r=P(k,s),k.forEach(b),p=I(U),_=E(U,"SECTION",{}),R(_).forEach(b),v=I(U),n=E(U,"DIV",{class:!0});var B=R(n);d=E(B,"BUTTON",{"data-tooltip":!0});var fe=R(d);o=P(fe,"â®"),fe.forEach(b),a=I(B),l=E(B,"BUTTON",{"data-tooltip":!0});var ce=R(l);h=P(ce,"ðŸš©"),ce.forEach(b),y=I(B),g=E(B,"BUTTON",{"data-tooltip":!0});var _e=R(g);O=P(_e,"âŒ"),_e.forEach(b),B.forEach(b),Y=I(U),V=E(U,"DIV",{class:!0});var J=R(V);j=E(J,"BUTTON",{"data-tooltip":!0});var me=R(j);K=P(me,"ðŸ¢"),me.forEach(b),Q=I(J),z=E(J,"BUTTON",{});var ie=R(z);H=P(ie,G),W=P(ie,"%"),ie.forEach(b),X=I(J),q=E(J,"BUTTON",{"data-tooltip":!0});var pe=R(q);Z=P(pe,"ðŸ‡"),pe.forEach(b),J.forEach(b),U.forEach(b),this.h()},h(){w(i,"class","centered svelte-4xoqdr"),w(d,"data-tooltip","Go Back ("+t[14]("rewind")+")"),w(l,"data-tooltip","Flag ("+t[14]("flag")+")"),w(g,"data-tooltip","Reset Flag ("+t[14]("resetFlag")+")"),w(n,"class","grid"),w(j,"data-tooltip","Slow Down ("+t[14]("slowDown")+")"),w(q,"data-tooltip","Speed Up ("+t[14]("speedUp")+")"),w(V,"class","grid"),w(e,"class","container")},m(C,U){D(C,e,U),m(e,u),m(e,c),m(e,i),m(i,f),m(i,r),m(e,p),m(e,_),m(e,v),m(e,n),m(n,d),m(d,o),m(n,a),m(n,l),m(l,h),m(n,y),m(n,g),m(g,O),m(e,Y),m(e,V),m(V,j),m(j,K),m(V,Q),m(V,z),m(z,H),m(z,W),m(V,X),m(V,q),m(q,Z),$||(x=[S(d,"click",t[11]),S(l,"click",t[9]),S(g,"click",t[10]),S(j,"click",t[13]),S(q,"click",t[12])],$=!0)},p(C,U){U[0]&2&&s!==(s=ge(C[1])+"")&&le(r,s),U[0]&4&&G!==(G=Math.round(C[2]*10)*10+"")&&le(H,G)},d(C){C&&b(e),$=!1,de(x)}}}function ze(t){let e,u,c,i,f,s,r,p,_,v,n,d;const o=[Ye,qe],a=[];function l(y,g){return y[0]==="local"?0:y[0]==="youtube"?1:-1}~(s=l(t))&&(r=a[s]=o[s](t));let h=t[7]&&ke(t);return{c(){e=T("article"),u=T("button"),c=L("Change Source"),i=N(),f=T("article"),r&&r.c(),p=N(),_=T("div"),h&&h.c(),this.h()},l(y){e=E(y,"ARTICLE",{class:!0});var g=R(e);u=E(g,"BUTTON",{});var O=R(u);c=P(O,"Change Source"),O.forEach(b),g.forEach(b),i=I(y),f=E(y,"ARTICLE",{class:!0});var Y=R(f);r&&r.l(Y),Y.forEach(b),p=I(y),_=E(y,"DIV",{});var V=R(_);h&&h.l(V),V.forEach(b),this.h()},h(){w(e,"class","container"),w(f,"class","container")},m(y,g){D(y,e,g),m(e,u),m(u,c),D(y,i,g),D(y,f,g),~s&&a[s].m(f,null),D(y,p,g),D(y,_,g),h&&h.m(_,null),v=!0,n||(d=S(u,"click",t[15]),n=!0)},p(y,g){let O=s;s=l(y),s===O?~s&&a[s].p(y,g):(r&&(Le(),ae(a[O],1,1,()=>{a[O]=null}),Oe()),~s?(r=a[s],r?r.p(y,g):(r=a[s]=o[s](y),r.c()),ue(r,1),r.m(f,null)):r=null),y[7]?h?h.p(y,g):(h=ke(y),h.c(),h.m(_,null)):h&&(h.d(1),h=null)},i(y){v||(ue(r),v=!0)},o(y){ae(r),v=!1},d(y){y&&b(e),y&&b(i),y&&b(f),~s&&a[s].d(),y&&b(p),y&&b(_),h&&h.d(),n=!1,d()}}}const oe=.1;function Ge(t,e,u){let c="local",i=0,f=1,s=0,r=!0,p=1,_=!1,v=!1;function n(k,B){c===k&&u(7,v=B.detail)}const d={flag:()=>u(1,i=s),resetFlag:()=>u(1,i=0),rewind:async()=>{await Ee(),u(3,s=i)},speedUp:()=>u(2,f+=oe),slowDown:()=>{f-oe>0&&u(2,f-=oe)},togglePlayback:()=>u(4,r=!r)},{flag:o,resetFlag:a,rewind:l,speedUp:h,slowDown:y,togglePlayback:g}=d,O={v:"resetFlag",f:"flag",r:"rewind",">":"speedUp","<":"slowDown"," ":"togglePlayback"},Y=je(O);function V(k){return Y[k]}function j(k){const B=O[k.key];B&&d[B]()}Re(()=>{document.addEventListener("keyup",j)});const K=()=>u(0,c=c=="local"?"youtube":"local");function Q(k){f=k,u(2,f)}function z(k){s=k,u(3,s)}function G(k){r=k,u(4,r)}function H(k){p=k,u(5,p)}function W(k){_=k,u(6,_)}const X=k=>n("local",k);function q(k){f=k,u(2,f)}function Z(k){s=k,u(3,s)}function $(k){r=k,u(4,r)}function x(k){p=k,u(5,p)}function C(k){_=k,u(6,_)}return[c,i,f,s,r,p,_,v,n,o,a,l,h,y,V,K,Q,z,G,H,W,X,q,Z,$,x,C,k=>n("youtube",k)]}class Je extends ne{constructor(e){super(),re(this,e,Ge,ze,se,{},null,[-1,-1])}}export{Je as default};
