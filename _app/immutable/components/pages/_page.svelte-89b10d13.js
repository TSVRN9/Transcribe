import{S as ce,i as _e,s as me,k as T,a as U,e as ie,l as E,m as R,h,c as D,n as w,b as V,H as _,J as L,C as ue,K as we,L as Te,M as Oe,N as pe,B as oe,O as Ce,q as P,r as B,P as le,o as Ue,Q as Pe,j as Be,u as fe,t as ne,d as Ae,f as re,g as Fe,R as Me,v as A,T as F,x as De,y as Se,z as Le,U as M,A as Ve}from"../../chunks/index-e60be4e8.js";function Ee(e){let t,i,f,u,s,r=!1,l,v=!0,g,k,c,n;function p(){cancelAnimationFrame(l),u.paused||(l=Ce(p),r=!0),e[11].call(u)}return{c(){t=T("div"),i=T("div"),f=U(),u=T("audio"),g=U(),k=T("div"),this.h()},l(a){t=E(a,"DIV",{class:!0});var m=R(t);i=E(m,"DIV",{}),R(i).forEach(h),f=D(m),u=E(m,"AUDIO",{src:!0}),R(u).forEach(h),g=D(m),k=E(m,"DIV",{}),R(k).forEach(h),m.forEach(h),this.h()},h(){u.controls=!0,Te(u.src,s=URL.createObjectURL(e[7]))||w(u,"src",s),e[6]===void 0&&Oe(()=>e[14].call(u)),w(t,"class","grid")},m(a,m){V(a,t,m),_(t,i),_(t,f),_(t,u),isNaN(e[0])||(u.playbackRate=e[0]),isNaN(e[2])||(u.volume=e[2]),u.muted=e[3],_(t,g),_(t,k),c||(n=[L(u,"ratechange",e[10]),L(u,"timeupdate",p),L(u,"play",e[12]),L(u,"pause",e[12]),L(u,"volumechange",e[13]),L(u,"durationchange",e[14])],c=!0)},p(a,m){m&128&&!Te(u.src,s=URL.createObjectURL(a[7]))&&w(u,"src",s),m&1&&!isNaN(a[0])&&(u.playbackRate=a[0]),!r&&m&32&&!isNaN(a[5])&&(u.currentTime=a[5]),r=!1,m&2&&v!==(v=a[1])&&u[v?"pause":"play"](),m&4&&!isNaN(a[2])&&(u.volume=a[2]),m&8&&(u.muted=a[3])},d(a){a&&h(t),c=!1,pe(n)}}}function je(e){let t,i,f,u,s,r,l,v,g,k,c=e[7]&&Ee(e);return{c(){t=T("div"),i=T("div"),f=U(),u=T("input"),s=U(),r=T("div"),l=U(),c&&c.c(),v=ie(),this.h()},l(n){t=E(n,"DIV",{class:!0});var p=R(t);i=E(p,"DIV",{}),R(i).forEach(h),f=D(p),u=E(p,"INPUT",{type:!0,accept:!0}),s=D(p),r=E(p,"DIV",{}),R(r).forEach(h),p.forEach(h),l=D(n),c&&c.l(n),v=ie(),this.h()},h(){w(u,"type","file"),w(u,"accept",".mp3, .ogg, .wav"),w(t,"class","grid")},m(n,p){V(n,t,p),_(t,i),_(t,f),_(t,u),_(t,s),_(t,r),V(n,l,p),c&&c.m(n,p),V(n,v,p),g||(k=L(u,"change",e[9]),g=!0)},p(n,[p]){n[7]?c?c.p(n,p):(c=Ee(n),c.c(),c.m(v.parentNode,v)):c&&(c.d(1),c=null)},i:ue,o:ue,d(n){n&&h(t),n&&h(l),c&&c.d(n),n&&h(v),g=!1,k()}}}function Ye(e,t,i){let f;const u=we();let s,r=0,l=0,{playbackRate:v=1,currentTime:g=0,paused:k=!0,volume:c=1,muted:n=!1}=t;async function p(N){await oe(),i(5,r=N),i(1,k=!1)}function a(){s=this.files,i(4,s)}function m(){v=this.playbackRate,i(0,v)}function y(){r=this.currentTime,i(5,r)}function o(){k=this.paused,i(1,k)}function d(){c=this.volume,n=this.muted,i(2,c),i(3,n)}function I(){l=this.duration,i(6,l)}return e.$$set=N=>{"playbackRate"in N&&i(0,v=N.playbackRate),"currentTime"in N&&i(8,g=N.currentTime),"paused"in N&&i(1,k=N.paused),"volume"in N&&i(2,c=N.volume),"muted"in N&&i(3,n=N.muted)},e.$$.update=()=>{e.$$.dirty&16&&i(7,f=s==null?void 0:s[0]),e.$$.dirty&192&&u("ready",{isReady:!!f,audioLength:f?l:0}),e.$$.dirty&32&&i(8,g=r),e.$$.dirty&256&&p(g)},[v,k,c,n,s,r,l,f,g,a,m,y,o,d,I]}class qe extends ce{constructor(t){super(),_e(this,t,Ye,je,me,{playbackRate:0,currentTime:8,paused:1,volume:2,muted:3})}}function Re(e){let t,i;return{c(){t=T("div"),i=P(e[1])},l(f){t=E(f,"DIV",{});var u=R(t);i=B(u,e[1]),u.forEach(h)},m(f,u){V(f,t,u),_(t,i)},p(f,u){u&2&&fe(i,f[1])},d(f){f&&h(t)}}}function Ge(e){let t,i,f,u,s,r,l,v,g,k,c,n,p,a,m,y,o=e[1]&&Re(e);return{c(){t=T("div"),i=T("input"),f=U(),u=T("button"),s=P("Load Video"),r=U(),l=T("div"),v=T("section"),g=U(),k=T("div"),c=U(),n=T("section"),p=U(),o&&o.c(),a=ie(),this.h()},l(d){t=E(d,"DIV",{});var I=R(t);i=E(I,"INPUT",{type:!0,placeholder:!0}),f=D(I),u=E(I,"BUTTON",{});var N=R(u);s=B(N,"Load Video"),N.forEach(h),I.forEach(h),r=D(d),l=E(d,"DIV",{});var S=R(l);v=E(S,"SECTION",{}),R(v).forEach(h),g=D(S),k=E(S,"DIV",{id:!0}),R(k).forEach(h),c=D(S),n=E(S,"SECTION",{}),R(n).forEach(h),S.forEach(h),p=D(d),o&&o.l(d),a=ie(),this.h()},h(){w(i,"type","text"),w(i,"placeholder","Paste YouTube link"),w(k,"id","youtube-player")},m(d,I){V(d,t,I),_(t,i),le(i,e[0]),_(t,f),_(t,u),_(u,s),V(d,r,I),V(d,l,I),_(l,v),_(l,g),_(l,k),_(l,c),_(l,n),V(d,p,I),o&&o.m(d,I),V(d,a,I),m||(y=[L(i,"input",e[8]),L(u,"click",e[2])],m=!0)},p(d,[I]){I&1&&i.value!==d[0]&&le(i,d[0]),d[1]?o?o.p(d,I):(o=Re(d),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},i:ue,o:ue,d(d){d&&h(t),d&&h(r),d&&h(l),d&&h(p),o&&o.d(d),d&&h(a),m=!1,pe(y)}}}function ze(e,t,i){let f,{playbackRate:u}=t,{currentTime:s}=t,{paused:r}=t,{volume:l}=t,{muted:v}=t;const g=we();let k,c="",n,p="",a;const m=()=>{if(!f)return;const o=new YT.Player("youtube-player",{videoId:f,playerVars:{autoplay:1,controls:0,disablekb:1,enablejsapi:1,iv_load_policy:3,modestbranding:1,playsinline:1,origin:window.location.origin},events:{onReady:()=>{n=o,g("ready",{isReady:!0,audioLength:o.getDuration()})},onError:d=>{i(1,p="Error: Unable to play the video."),console.error("YouTube Player Error:",d.data),g("ready",{isReady:!1,audioLength:0})},onStateChange:d=>{i(4,r=d.data!=YT.PlayerState.PLAYING)}}})};Ue(()=>{k=document.createElement("script"),k.src="https://www.youtube.com/iframe_api",(document.head||document.getElementsByTagName("head")[0]).appendChild(k),a=setInterval(async()=>{await oe(),i(3,s=n==null?void 0:n.getCurrentTime())},50)}),Pe(()=>{(document.head||document.getElementsByTagName("head")[0]).removeChild(k),clearInterval(a)}),Be(async()=>{if(n){await oe();const o=.5;(n.getCurrentTime()>s+o||n.getCurrentTime()<s-o)&&n.seekTo(s,!0),n.getPlaybackRate()!=u&&n.setPlaybackRate(u),n.setVolume(l*100),v?n.mute():n.unMute()}});function y(){c=this.value,i(0,c)}return e.$$set=o=>{"playbackRate"in o&&i(5,u=o.playbackRate),"currentTime"in o&&i(3,s=o.currentTime),"paused"in o&&i(4,r=o.paused),"volume"in o&&i(6,l=o.volume),"muted"in o&&i(7,v=o.muted)},e.$$.update=()=>{e.$$.dirty&1&&(f=c?new URLSearchParams(new URL(c).search).get("v"):void 0)},i(1,p=""),[c,p,m,s,r,u,l,v,y]}class He extends ce{constructor(t){super(),_e(this,t,ze,Ge,me,{playbackRate:5,currentTime:3,paused:4,volume:6,muted:7})}}function Je(e){return Object.entries(e).reduce((t,[i,f])=>({...t,[f]:i}),{})}function Ie(e){const t=Math.floor(e/3600).toString().padStart(2,"0"),i=Math.floor(e%3600/60).toString().padStart(2,"0"),f=Math.floor(e%60).toString().padStart(2,"0");return t+":"+i+":"+f}function Ke(e){let t,i,f,u,s,r,l;function v(a){e[23](a)}function g(a){e[24](a)}function k(a){e[25](a)}function c(a){e[26](a)}function n(a){e[27](a)}let p={};return e[2]!==void 0&&(p.playbackRate=e[2]),e[3]!==void 0&&(p.currentTime=e[3]),e[4]!==void 0&&(p.paused=e[4]),e[5]!==void 0&&(p.volume=e[5]),e[6]!==void 0&&(p.muted=e[6]),t=new He({props:p}),A.push(()=>F(t,"playbackRate",v,e[2])),A.push(()=>F(t,"currentTime",g,e[3])),A.push(()=>F(t,"paused",k,e[4])),A.push(()=>F(t,"volume",c,e[5])),A.push(()=>F(t,"muted",n,e[6])),t.$on("ready",e[28]),{c(){De(t.$$.fragment)},l(a){Se(t.$$.fragment,a)},m(a,m){Le(t,a,m),l=!0},p(a,m){const y={};!i&&m[0]&4&&(i=!0,y.playbackRate=a[2],M(()=>i=!1)),!f&&m[0]&8&&(f=!0,y.currentTime=a[3],M(()=>f=!1)),!u&&m[0]&16&&(u=!0,y.paused=a[4],M(()=>u=!1)),!s&&m[0]&32&&(s=!0,y.volume=a[5],M(()=>s=!1)),!r&&m[0]&64&&(r=!0,y.muted=a[6],M(()=>r=!1)),t.$set(y)},i(a){l||(re(t.$$.fragment,a),l=!0)},o(a){ne(t.$$.fragment,a),l=!1},d(a){Ve(t,a)}}}function Qe(e){let t,i,f,u,s,r,l;function v(a){e[17](a)}function g(a){e[18](a)}function k(a){e[19](a)}function c(a){e[20](a)}function n(a){e[21](a)}let p={};return e[2]!==void 0&&(p.playbackRate=e[2]),e[3]!==void 0&&(p.currentTime=e[3]),e[4]!==void 0&&(p.paused=e[4]),e[5]!==void 0&&(p.volume=e[5]),e[6]!==void 0&&(p.muted=e[6]),t=new qe({props:p}),A.push(()=>F(t,"playbackRate",v,e[2])),A.push(()=>F(t,"currentTime",g,e[3])),A.push(()=>F(t,"paused",k,e[4])),A.push(()=>F(t,"volume",c,e[5])),A.push(()=>F(t,"muted",n,e[6])),t.$on("ready",e[22]),{c(){De(t.$$.fragment)},l(a){Se(t.$$.fragment,a)},m(a,m){Le(t,a,m),l=!0},p(a,m){const y={};!i&&m[0]&4&&(i=!0,y.playbackRate=a[2],M(()=>i=!1)),!f&&m[0]&8&&(f=!0,y.currentTime=a[3],M(()=>f=!1)),!u&&m[0]&16&&(u=!0,y.paused=a[4],M(()=>u=!1)),!s&&m[0]&32&&(s=!0,y.volume=a[5],M(()=>s=!1)),!r&&m[0]&64&&(r=!0,y.muted=a[6],M(()=>r=!1)),t.$set(y)},i(a){l||(re(t.$$.fragment,a),l=!0)},o(a){ne(t.$$.fragment,a),l=!1},d(a){Ve(t,a)}}}function Ne(e){let t,i,f,u,s,r=Ie(e[1])+"",l,v,g,k,c,n,p,a,m,y,o,d,I,N,S,Q,W,O,j,X,Z,G,z=Math.round(e[2]*10)*10+"",H,$,x,Y,ee,te,ae;return{c(){t=T("article"),i=T("section"),f=U(),u=T("div"),s=P("🚩: "),l=P(r),v=U(),g=T("section"),k=U(),c=T("div"),n=T("input"),p=U(),a=T("div"),m=T("button"),y=P("⏮"),o=U(),d=T("button"),I=P("🚩"),N=U(),S=T("button"),Q=P("❌"),W=U(),O=T("div"),j=T("button"),X=P("🐢"),Z=U(),G=T("button"),H=P(z),$=P("%"),x=U(),Y=T("button"),ee=P("🐇"),this.h()},l(C){t=E(C,"ARTICLE",{class:!0});var b=R(t);i=E(b,"SECTION",{}),R(i).forEach(h),f=D(b),u=E(b,"DIV",{class:!0});var q=R(u);s=B(q,"🚩: "),l=B(q,r),q.forEach(h),v=D(b),g=E(b,"SECTION",{}),R(g).forEach(h),k=D(b),c=E(b,"DIV",{class:!0});var be=R(c);n=E(be,"INPUT",{type:!0,min:!0,max:!0}),be.forEach(h),p=D(b),a=E(b,"DIV",{class:!0});var J=R(a);m=E(J,"BUTTON",{"data-tooltip":!0});var he=R(m);y=B(he,"⏮"),he.forEach(h),o=D(J),d=E(J,"BUTTON",{"data-tooltip":!0});var ve=R(d);I=B(ve,"🚩"),ve.forEach(h),N=D(J),S=E(J,"BUTTON",{"data-tooltip":!0});var ye=R(S);Q=B(ye,"❌"),ye.forEach(h),J.forEach(h),W=D(b),O=E(b,"DIV",{class:!0});var K=R(O);j=E(K,"BUTTON",{"data-tooltip":!0});var ge=R(j);X=B(ge,"🐢"),ge.forEach(h),Z=D(K),G=E(K,"BUTTON",{});var se=R(G);H=B(se,z),$=B(se,"%"),se.forEach(h),x=D(K),Y=E(K,"BUTTON",{"data-tooltip":!0});var ke=R(Y);ee=B(ke,"🐇"),ke.forEach(h),K.forEach(h),b.forEach(h),this.h()},h(){w(u,"class","centered svelte-4xoqdr"),w(n,"type","range"),w(n,"min","0"),w(n,"max",e[8]),w(c,"class","grid"),w(m,"data-tooltip","Go Back ("+e[15]("rewind")+")"),w(d,"data-tooltip","Flag ("+e[15]("flag")+")"),w(S,"data-tooltip","Reset Flag ("+e[15]("resetFlag")+")"),w(a,"class","grid"),w(j,"data-tooltip","Slow Down ("+e[15]("slowDown")+")"),w(Y,"data-tooltip","Speed Up ("+e[15]("speedUp")+")"),w(O,"class","grid"),w(t,"class","container")},m(C,b){V(C,t,b),_(t,i),_(t,f),_(t,u),_(u,s),_(u,l),_(t,v),_(t,g),_(t,k),_(t,c),_(c,n),le(n,e[3]),_(t,p),_(t,a),_(a,m),_(m,y),_(a,o),_(a,d),_(d,I),_(a,N),_(a,S),_(S,Q),_(t,W),_(t,O),_(O,j),_(j,X),_(O,Z),_(O,G),_(G,H),_(G,$),_(O,x),_(O,Y),_(Y,ee),te||(ae=[L(n,"change",e[29]),L(n,"input",e[29]),L(m,"click",e[12]),L(d,"click",e[10]),L(S,"click",e[11]),L(j,"click",e[14]),L(Y,"click",e[13])],te=!0)},p(C,b){b[0]&2&&r!==(r=Ie(C[1])+"")&&fe(l,r),b[0]&256&&w(n,"max",C[8]),b[0]&8&&le(n,C[3]),b[0]&4&&z!==(z=Math.round(C[2]*10)*10+"")&&fe(H,z)},d(C){C&&h(t),te=!1,pe(ae)}}}function We(e){let t,i,f,u,s,r,l,v,g,k,c,n;const p=[Qe,Ke],a=[];function m(o,d){return o[0]==="local"?0:o[0]==="youtube"?1:-1}~(r=m(e))&&(l=a[r]=p[r](e));let y=e[7]&&Ne(e);return{c(){t=T("article"),i=T("button"),f=P("Change Source"),u=U(),s=T("article"),l&&l.c(),v=U(),g=T("div"),y&&y.c(),this.h()},l(o){t=E(o,"ARTICLE",{class:!0});var d=R(t);i=E(d,"BUTTON",{});var I=R(i);f=B(I,"Change Source"),I.forEach(h),d.forEach(h),u=D(o),s=E(o,"ARTICLE",{class:!0});var N=R(s);l&&l.l(N),N.forEach(h),v=D(o),g=E(o,"DIV",{});var S=R(g);y&&y.l(S),S.forEach(h),this.h()},h(){w(t,"class","container"),w(s,"class","container")},m(o,d){V(o,t,d),_(t,i),_(i,f),V(o,u,d),V(o,s,d),~r&&a[r].m(s,null),V(o,v,d),V(o,g,d),y&&y.m(g,null),k=!0,c||(n=L(i,"click",e[16]),c=!0)},p(o,d){let I=r;r=m(o),r===I?~r&&a[r].p(o,d):(l&&(Fe(),ne(a[I],1,1,()=>{a[I]=null}),Ae()),~r?(l=a[r],l?l.p(o,d):(l=a[r]=p[r](o),l.c()),re(l,1),l.m(s,null)):l=null),o[7]?y?y.p(o,d):(y=Ne(o),y.c(),y.m(g,null)):y&&(y.d(1),y=null)},i(o){k||(re(l),k=!0)},o(o){ne(l),k=!1},d(o){o&&h(t),o&&h(u),o&&h(s),~r&&a[r].d(),o&&h(v),o&&h(g),y&&y.d(),c=!1,n()}}}const de=.1;function Xe(e,t,i){let f="local",u=0,s=1,r=0,l=!0,v=1,g=!1,k=!1,c=0;function n(b,q){f===b&&(i(7,k=q.detail.isReady),i(8,c=q.detail.audioLength))}const p={flag:()=>i(1,u=r),resetFlag:()=>i(1,u=0),rewind:async()=>{await oe(),i(3,r=u)},speedUp:()=>i(2,s+=de),slowDown:()=>{s-de>0&&i(2,s-=de)},togglePlayback:()=>i(4,l=!l)},{flag:a,resetFlag:m,rewind:y,speedUp:o,slowDown:d,togglePlayback:I}=p,N={v:"resetFlag",f:"flag",r:"rewind",">":"speedUp","<":"slowDown"," ":"togglePlayback"},S=Je(N);function Q(b){return S[b]}function W(b){const q=N[b.key];q&&p[q]()}Ue(()=>{document.addEventListener("keyup",W)});const O=()=>i(0,f=f=="local"?"youtube":"local");function j(b){s=b,i(2,s)}function X(b){r=b,i(3,r)}function Z(b){l=b,i(4,l)}function G(b){v=b,i(5,v)}function z(b){g=b,i(6,g)}const H=b=>n("local",b);function $(b){s=b,i(2,s)}function x(b){r=b,i(3,r)}function Y(b){l=b,i(4,l)}function ee(b){v=b,i(5,v)}function te(b){g=b,i(6,g)}const ae=b=>n("youtube",b);function C(){r=Me(this.value),i(3,r)}return[f,u,s,r,l,v,g,k,c,n,a,m,y,o,d,Q,O,j,X,Z,G,z,H,$,x,Y,ee,te,ae,C]}class $e extends ce{constructor(t){super(),_e(this,t,Xe,We,me,{},null,[-1,-1])}}export{$e as default};
