import{S as Re,i as Ne,s as we,k as y,a as U,e as ce,l as g,m as T,h as m,c as I,n as R,b as L,H as d,J as S,C as fe,K as pe,L as Ae,M as We,N as De,B as Ue,O as Xe,q as P,r as B,P as Me,o as ze,Q as Ze,j as $e,u as ie,t as _e,d as xe,f as me,g as et,v as H,R as J,x as Ge,y as He,z as Je,T as K,A as Ke}from"../../chunks/index-f4f4a71f.js";function je(t){let e,l,f,o,p,n=!1,c,h=!0,_,v,s,a;function u(){cancelAnimationFrame(c),o.paused||(c=Xe(u),n=!0),t[11].call(o)}return{c(){e=y("div"),l=y("div"),f=U(),o=y("audio"),_=U(),v=y("div"),this.h()},l(i){e=g(i,"DIV",{class:!0});var k=T(e);l=g(k,"DIV",{}),T(l).forEach(m),f=I(k),o=g(k,"AUDIO",{src:!0}),T(o).forEach(m),_=I(k),v=g(k,"DIV",{}),T(v).forEach(m),k.forEach(m),this.h()},h(){o.controls=!0,Ae(o.src,p=URL.createObjectURL(t[7]))||R(o,"src",p),t[6]===void 0&&We(()=>t[14].call(o)),R(e,"class","grid")},m(i,k){L(i,e,k),d(e,l),d(e,f),d(e,o),isNaN(t[0])||(o.playbackRate=t[0]),isNaN(t[2])||(o.volume=t[2]),o.muted=t[3],d(e,_),d(e,v),s||(a=[S(o,"ratechange",t[10]),S(o,"timeupdate",u),S(o,"play",t[12]),S(o,"pause",t[12]),S(o,"volumechange",t[13]),S(o,"durationchange",t[14])],s=!0)},p(i,k){k&128&&!Ae(o.src,p=URL.createObjectURL(i[7]))&&R(o,"src",p),k&1&&!isNaN(i[0])&&(o.playbackRate=i[0]),!n&&k&32&&!isNaN(i[5])&&(o.currentTime=i[5]),n=!1,k&2&&h!==(h=i[1])&&o[h?"pause":"play"](),k&4&&!isNaN(i[2])&&(o.volume=i[2]),k&8&&(o.muted=i[3])},d(i){i&&m(e),s=!1,De(a)}}}function tt(t){let e,l,f,o,p,n,c,h,_,v,s=t[7]&&je(t);return{c(){e=y("div"),l=y("div"),f=U(),o=y("input"),p=U(),n=y("div"),c=U(),s&&s.c(),h=ce(),this.h()},l(a){e=g(a,"DIV",{class:!0});var u=T(e);l=g(u,"DIV",{}),T(l).forEach(m),f=I(u),o=g(u,"INPUT",{type:!0,accept:!0}),p=I(u),n=g(u,"DIV",{}),T(n).forEach(m),u.forEach(m),c=I(a),s&&s.l(a),h=ce(),this.h()},h(){R(o,"type","file"),R(o,"accept",".mp3, .ogg, .wav"),R(e,"class","grid")},m(a,u){L(a,e,u),d(e,l),d(e,f),d(e,o),d(e,p),d(e,n),L(a,c,u),s&&s.m(a,u),L(a,h,u),_||(v=S(o,"change",t[9]),_=!0)},p(a,[u]){a[7]?s?s.p(a,u):(s=je(a),s.c(),s.m(h.parentNode,h)):s&&(s.d(1),s=null)},i:fe,o:fe,d(a){a&&m(e),a&&m(c),s&&s.d(a),a&&m(h),_=!1,v()}}}function at(t,e,l){let f;const o=pe(),p=pe();let n,c=0,h=0,_=0,{playbackRate:v=1,paused:s=!0,volume:a=1,muted:u=!1}=e;async function i(V){await Ue(),l(5,h=V),p("currentTime",{currentTime:c})}function k(){n=this.files,l(4,n)}function E(){v=this.playbackRate,l(0,v)}function r(){h=this.currentTime,l(5,h)}function N(){s=this.paused,l(1,s)}function w(){a=this.volume,u=this.muted,l(2,a),l(3,u)}function O(){_=this.duration,l(6,_)}return t.$$set=V=>{"playbackRate"in V&&l(0,v=V.playbackRate),"paused"in V&&l(1,s=V.paused),"volume"in V&&l(2,a=V.volume),"muted"in V&&l(3,u=V.muted)},t.$$.update=()=>{t.$$.dirty&16&&l(7,f=n==null?void 0:n[0]),t.$$.dirty&192&&o("ready",{isReady:!!f,audioLength:f?_:0,seek:V=>{i(V)}}),t.$$.dirty&32&&l(8,c=h),t.$$.dirty&256&&i(c)},[v,s,a,u,n,h,_,f,c,k,E,r,N,w,O]}class lt extends Re{constructor(e){super(),Ne(this,e,at,tt,we,{playbackRate:0,paused:1,volume:2,muted:3})}}const Qe=()=>{};function qe(t){let e,l;return{c(){e=y("div"),l=P(t[1])},l(f){e=g(f,"DIV",{});var o=T(e);l=B(o,t[1]),o.forEach(m)},m(f,o){L(f,e,o),d(e,l)},p(f,o){o&2&&ie(l,f[1])},d(f){f&&m(e)}}}function ot(t){let e,l,f,o,p,n,c,h,_,v,s,a=t[1]&&qe(t);return{c(){e=y("div"),l=y("input"),f=U(),o=y("button"),p=P("Load Video"),n=U(),c=y("div"),h=U(),a&&a.c(),_=ce(),this.h()},l(u){e=g(u,"DIV",{});var i=T(e);l=g(i,"INPUT",{type:!0,placeholder:!0}),f=I(i),o=g(i,"BUTTON",{});var k=T(o);p=B(k,"Load Video"),k.forEach(m),i.forEach(m),n=I(u),c=g(u,"DIV",{id:!0}),T(c).forEach(m),h=I(u),a&&a.l(u),_=ce(),this.h()},h(){R(l,"type","text"),R(l,"placeholder","Paste YouTube link"),R(c,"id","youtube-player")},m(u,i){L(u,e,i),d(e,l),Me(l,t[0]),d(e,f),d(e,o),d(o,p),L(u,n,i),L(u,c,i),L(u,h,i),a&&a.m(u,i),L(u,_,i),v||(s=[S(l,"input",t[7]),S(o,"click",t[2])],v=!0)},p(u,[i]){i&1&&l.value!==u[0]&&Me(l,u[0]),u[1]?a?a.p(u,i):(a=qe(u),a.c(),a.m(_.parentNode,_)):a&&(a.d(1),a=null)},i:fe,o:fe,d(u){u&&m(e),u&&m(n),u&&m(c),u&&m(h),a&&a.d(u),u&&m(_),v=!1,De(s)}}}function ut(t,e,l){let f,{playbackRate:o}=e,{paused:p}=e,{volume:n}=e,{muted:c}=e;const h=pe(),_=pe();let v,s="",a,u="",i;const k=()=>{if(console.log(f),!f)return;const r=new YT.Player("youtube-player",{width:1,height:1,videoId:f,playerVars:{autoplay:1,controls:0,disablekb:1,enablejsapi:1,iv_load_policy:3,modestbranding:1,playsinline:1,origin:window.location.origin},events:{onReady:()=>{a=r,h("ready",{isReady:!0,audioLength:r.getDuration(),seek:N=>{a.seekTo(N)}})},onError:N=>{l(1,u="Error: Unable to play the video."),console.error("YouTube Player Error:",N.data),h("ready",{isReady:!1,audioLength:0,seek:Qe})},onStateChange:N=>{l(3,p=N.data==YT.PlayerState.PAUSED)}}})};ze(()=>{v=document.createElement("script"),v.src="https://www.youtube.com/iframe_api",(document.head||document.getElementsByTagName("head")[0]).appendChild(v),i=setInterval(()=>{a&&_("currentTime",{currentTime:a.getCurrentTime()})},50)}),Ze(()=>{(document.head||document.getElementsByTagName("head")[0]).removeChild(v),clearInterval(i)}),$e(async()=>{a&&(await Ue(),a.getPlaybackRate()!=o&&a.setPlaybackRate(o),p?a.pauseVideo():a.playVideo(),a.setVolume(n*100),c?a.mute():a.unMute())});function E(){s=this.value,l(0,s)}return t.$$set=r=>{"playbackRate"in r&&l(4,o=r.playbackRate),"paused"in r&&l(3,p=r.paused),"volume"in r&&l(5,n=r.volume),"muted"in r&&l(6,c=r.muted)},t.$$.update=()=>{t.$$.dirty&1&&(f=(()=>{try{return s?new URLSearchParams(new URL(s).search).get("v"):void 0}catch{}})())},l(1,u=""),[s,u,k,p,o,n,c,E]}class it extends Re{constructor(e){super(),Ne(this,e,ut,ot,we,{playbackRate:4,paused:3,volume:5,muted:6})}}function nt(t){return Object.entries(t).reduce((e,[l,f])=>({...e,[f]:l}),{})}function de(t){const e=Math.floor(t/3600).toString().padStart(2,"0"),l=Math.floor(t%3600/60).toString().padStart(2,"0"),f=Math.floor(t%60).toString().padStart(2,"0");return e+":"+l+":"+f}function rt(t){let e,l,f,o,p,n;function c(a){t[26](a)}function h(a){t[27](a)}function _(a){t[28](a)}function v(a){t[29](a)}let s={};return t[2]!==void 0&&(s.playbackRate=t[2]),t[4]!==void 0&&(s.paused=t[4]),t[5]!==void 0&&(s.volume=t[5]),t[6]!==void 0&&(s.muted=t[6]),e=new it({props:s}),H.push(()=>J(e,"playbackRate",c,t[2])),H.push(()=>J(e,"paused",h,t[4])),H.push(()=>J(e,"volume",_,t[5])),H.push(()=>J(e,"muted",v,t[6])),e.$on("ready",t[30]),e.$on("currentTime",t[31]),{c(){Ge(e.$$.fragment)},l(a){He(e.$$.fragment,a)},m(a,u){Je(e,a,u),n=!0},p(a,u){const i={};!l&&u[0]&4&&(l=!0,i.playbackRate=a[2],K(()=>l=!1)),!f&&u[0]&16&&(f=!0,i.paused=a[4],K(()=>f=!1)),!o&&u[0]&32&&(o=!0,i.volume=a[5],K(()=>o=!1)),!p&&u[0]&64&&(p=!0,i.muted=a[6],K(()=>p=!1)),e.$set(i)},i(a){n||(me(e.$$.fragment,a),n=!0)},o(a){_e(e.$$.fragment,a),n=!1},d(a){Ke(e,a)}}}function st(t){let e,l,f,o,p,n;function c(a){t[20](a)}function h(a){t[21](a)}function _(a){t[22](a)}function v(a){t[23](a)}let s={};return t[2]!==void 0&&(s.playbackRate=t[2]),t[4]!==void 0&&(s.paused=t[4]),t[5]!==void 0&&(s.volume=t[5]),t[6]!==void 0&&(s.muted=t[6]),e=new lt({props:s}),H.push(()=>J(e,"playbackRate",c,t[2])),H.push(()=>J(e,"paused",h,t[4])),H.push(()=>J(e,"volume",_,t[5])),H.push(()=>J(e,"muted",v,t[6])),e.$on("ready",t[24]),e.$on("currentTime",t[25]),{c(){Ge(e.$$.fragment)},l(a){He(e.$$.fragment,a)},m(a,u){Je(e,a,u),n=!0},p(a,u){const i={};!l&&u[0]&4&&(l=!0,i.playbackRate=a[2],K(()=>l=!1)),!f&&u[0]&16&&(f=!0,i.paused=a[4],K(()=>f=!1)),!o&&u[0]&32&&(o=!0,i.volume=a[5],K(()=>o=!1)),!p&&u[0]&64&&(p=!0,i.muted=a[6],K(()=>p=!1)),e.$set(i)},i(a){n||(me(e.$$.fragment,a),n=!0)},o(a){_e(e.$$.fragment,a),n=!1},d(a){Ke(e,a)}}}function Ye(t){let e,l,f,o,p,n=de(t[3])+"",c,h,_,v,s=de(t[1])+"",a,u,i,k,E,r,N,w,O,V,X,j,x,ee,q,te,ae,Y,Q=t[4]?"â–¶ï¸":"â¸",Z,le,z,oe,ue,F,G,ne,re,b,C=Math.round(t[2]*10)*10+"",se,he,be,W,ve,ye,Ie;return{c(){e=y("article"),l=y("section"),f=U(),o=y("div"),p=P("â±ï¸: "),c=P(n),h=U(),_=y("div"),v=P("ðŸš©: "),a=P(s),u=U(),i=y("section"),k=U(),E=y("div"),r=y("input"),N=U(),w=y("div"),O=y("button"),V=P("â®"),X=U(),j=y("button"),x=P("â—€ï¸"),ee=U(),q=y("button"),te=P("ðŸš©"),ae=U(),Y=y("button"),Z=P(Q),le=U(),z=y("button"),oe=P("âŒ"),ue=U(),F=y("div"),G=y("button"),ne=P("ðŸ¢"),re=U(),b=y("button"),se=P(C),he=P("%"),be=U(),W=y("button"),ve=P("ðŸ‡"),this.h()},l(A){e=g(A,"ARTICLE",{class:!0});var D=T(e);l=g(D,"SECTION",{}),T(l).forEach(m),f=I(D),o=g(D,"DIV",{class:!0});var ge=T(o);p=B(ge,"â±ï¸: "),c=B(ge,n),ge.forEach(m),h=I(D),_=g(D,"DIV",{class:!0});var ke=T(_);v=B(ke,"ðŸš©: "),a=B(ke,s),ke.forEach(m),u=I(D),i=g(D,"SECTION",{}),T(i).forEach(m),k=I(D),E=g(D,"DIV",{class:!0});var Ve=T(E);r=g(Ve,"INPUT",{type:!0,min:!0,max:!0}),Ve.forEach(m),N=I(D),w=g(D,"DIV",{class:!0});var M=T(w);O=g(M,"BUTTON",{"data-tooltip":!0});var Se=T(O);V=B(Se,"â®"),Se.forEach(m),X=I(M),j=g(M,"BUTTON",{"data-tooltip":!0});var Pe=T(j);x=B(Pe,"â—€ï¸"),Pe.forEach(m),ee=I(M),q=g(M,"BUTTON",{"data-tooltip":!0});var Be=T(q);te=B(Be,"ðŸš©"),Be.forEach(m),ae=I(M),Y=g(M,"BUTTON",{"data-tooltip":!0});var Le=T(Y);Z=B(Le,Q),Le.forEach(m),le=I(M),z=g(M,"BUTTON",{"data-tooltip":!0});var Oe=T(z);oe=B(Oe,"âŒ"),Oe.forEach(m),M.forEach(m),ue=I(D),F=g(D,"DIV",{class:!0});var $=T(F);G=g($,"BUTTON",{"data-tooltip":!0});var Fe=T(G);ne=B(Fe,"ðŸ¢"),Fe.forEach(m),re=I($),b=g($,"BUTTON",{});var Te=T(b);se=B(Te,C),he=B(Te,"%"),Te.forEach(m),be=I($),W=g($,"BUTTON",{"data-tooltip":!0});var Ce=T(W);ve=B(Ce,"ðŸ‡"),Ce.forEach(m),$.forEach(m),D.forEach(m),this.h()},h(){R(o,"class","centered svelte-4xoqdr"),R(_,"class","centered svelte-4xoqdr"),R(r,"type","range"),r.value=t[3],R(r,"min","0"),R(r,"max",t[8]),R(E,"class","grid"),R(O,"data-tooltip","Go Back ("+t[18]("rewind")+")"),R(j,"data-tooltip","Push Flag Back ("+t[18]("pushFlagBack")+")"),R(q,"data-tooltip","Flag ("+t[18]("placeFlag")+")"),R(Y,"data-tooltip","Pause/Unpause ("+t[18]("togglePlayback")+")"),R(z,"data-tooltip","Reset Flag ("+t[18]("resetFlag")+")"),R(w,"class","grid"),R(G,"data-tooltip","Slow Down ("+t[18]("slowDown")+")"),R(W,"data-tooltip","Speed Up ("+t[18]("speedUp")+")"),R(F,"class","grid"),R(e,"class","container")},m(A,D){L(A,e,D),d(e,l),d(e,f),d(e,o),d(o,p),d(o,c),d(e,h),d(e,_),d(_,v),d(_,a),d(e,u),d(e,i),d(e,k),d(e,E),d(E,r),d(e,N),d(e,w),d(w,O),d(O,V),d(w,X),d(w,j),d(j,x),d(w,ee),d(w,q),d(q,te),d(w,ae),d(w,Y),d(Y,Z),d(w,le),d(w,z),d(z,oe),d(e,ue),d(e,F),d(F,G),d(G,ne),d(F,re),d(F,b),d(b,se),d(b,he),d(F,be),d(F,W),d(W,ve),ye||(Ie=[S(r,"input",t[32]),S(O,"click",t[13]),S(j,"click",t[17]),S(q,"click",t[11]),S(Y,"click",t[16]),S(z,"click",t[12]),S(G,"click",t[15]),S(W,"click",t[14])],ye=!0)},p(A,D){D[0]&8&&n!==(n=de(A[3])+"")&&ie(c,n),D[0]&2&&s!==(s=de(A[1])+"")&&ie(a,s),D[0]&8&&(r.value=A[3]),D[0]&256&&R(r,"max",A[8]),D[0]&16&&Q!==(Q=A[4]?"â–¶ï¸":"â¸")&&ie(Z,Q),D[0]&4&&C!==(C=Math.round(A[2]*10)*10+"")&&ie(se,C)},d(A){A&&m(e),ye=!1,De(Ie)}}}function dt(t){let e,l,f,o,p,n,c,h,_,v,s,a;const u=[st,rt],i=[];function k(r,N){return r[0]==="local"?0:r[0]==="youtube"?1:-1}~(n=k(t))&&(c=i[n]=u[n](t));let E=t[7]&&Ye(t);return{c(){e=y("article"),l=y("button"),f=P("Change Source"),o=U(),p=y("article"),c&&c.c(),h=U(),_=y("div"),E&&E.c(),this.h()},l(r){e=g(r,"ARTICLE",{class:!0});var N=T(e);l=g(N,"BUTTON",{});var w=T(l);f=B(w,"Change Source"),w.forEach(m),N.forEach(m),o=I(r),p=g(r,"ARTICLE",{class:!0});var O=T(p);c&&c.l(O),O.forEach(m),h=I(r),_=g(r,"DIV",{});var V=T(_);E&&E.l(V),V.forEach(m),this.h()},h(){R(e,"class","container"),R(p,"class","container")},m(r,N){L(r,e,N),d(e,l),d(l,f),L(r,o,N),L(r,p,N),~n&&i[n].m(p,null),L(r,h,N),L(r,_,N),E&&E.m(_,null),v=!0,s||(a=S(l,"click",t[19]),s=!0)},p(r,N){let w=n;n=k(r),n===w?~n&&i[n].p(r,N):(c&&(et(),_e(i[w],1,1,()=>{i[w]=null}),xe()),~n?(c=i[n],c?c.p(r,N):(c=i[n]=u[n](r),c.c()),me(c,1),c.m(p,null)):c=null),r[7]?E?E.p(r,N):(E=Ye(r),E.c(),E.m(_,null)):E&&(E.d(1),E=null)},i(r){v||(me(c),v=!0)},o(r){_e(c),v=!1},d(r){r&&m(e),r&&m(o),r&&m(p),~n&&i[n].d(),r&&m(h),r&&m(_),E&&E.d(),s=!1,a()}}}const Ee=.1;function ct(t,e,l){let f="local",o=0,p=1,n=0,c=!0,h=1,_=!1,v=!1,s=0,a=Qe;function u(b,C){f===b&&(l(7,v=C.detail.isReady),l(8,s=C.detail.audioLength),l(9,a=C.detail.seek))}const i={placeFlag:()=>l(1,o=n),pushFlagBack:()=>l(1,o=Math.max(0,o-1)),resetFlag:()=>l(1,o=0),rewind:async()=>{await Ue(),a(o)},speedUp:()=>l(2,p+=Ee),slowDown:()=>{p-Ee>0&&l(2,p-=Ee)},togglePlayback:()=>l(4,c=!c)},{placeFlag:k,resetFlag:E,rewind:r,speedUp:N,slowDown:w,togglePlayback:O,pushFlagBack:V}=i,X={v:"resetFlag",s:"pushFlagBack",f:"placeFlag",r:"rewind",">":"speedUp","<":"slowDown"," ":"togglePlayback"},j=nt(X);function x(b){return j[b]}function ee(b){const C=X[b.key];C&&i[C]()}ze(()=>{document.addEventListener("keyup",ee)});const q=()=>l(0,f=f=="local"?"youtube":"local");function te(b){p=b,l(2,p)}function ae(b){c=b,l(4,c)}function Y(b){h=b,l(5,h)}function Q(b){_=b,l(6,_)}const Z=b=>u("local",b),le=b=>l(3,n=b.detail.currentTime);function z(b){p=b,l(2,p)}function oe(b){c=b,l(4,c)}function ue(b){h=b,l(5,h)}function F(b){_=b,l(6,_)}return[f,o,p,n,c,h,_,v,s,a,u,k,E,r,N,w,O,V,x,q,te,ae,Y,Q,Z,le,z,oe,ue,F,b=>u("youtube",b),b=>l(3,n=b.detail.currentTime),b=>{a(b.target.value)}]}class pt extends Re{constructor(e){super(),Ne(this,e,ct,dt,we,{},null,[-1,-1])}}export{pt as default};
